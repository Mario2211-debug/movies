# ConfiguraÃ§Ã£o de Ambiente - CineVerse

Este arquivo contÃ©m as variÃ¡veis de ambiente necessÃ¡rias para executar o projeto CineVerse.

## ğŸ“‹ InstruÃ§Ãµes

1. Copie este arquivo para `.env.local` na raiz do projeto
2. Preencha os valores apropriados para seu ambiente
3. Nunca commite o arquivo `.env.local` (jÃ¡ estÃ¡ no .gitignore)

## ğŸ”§ VariÃ¡veis de Ambiente

### MongoDB
```env
# String de conexÃ£o com MongoDB
# Para MongoDB local:
MONGODB_URI=mongodb://localhost:27017/cineverse

# Para MongoDB Atlas (recomendado para produÃ§Ã£o):
# MONGODB_URI=mongodb+srv://username:password@cluster.mongodb.net/cineverse?retryWrites=true&w=majority
```

### Next.js
```env
# URL base da API (para desenvolvimento)
NEXT_PUBLIC_API_URL=http://localhost:3000

# Ambiente de execuÃ§Ã£o
NODE_ENV=development
```

### Servidor
```env
# Porta do servidor (opcional, padrÃ£o: 3000)
PORT=3000
```

## ğŸŒ ConfiguraÃ§Ãµes por Ambiente

### Desenvolvimento Local
```env
MONGODB_URI=mongodb://localhost:27017/cineverse
NEXT_PUBLIC_API_URL=http://localhost:3000
NODE_ENV=development
PORT=3000
```

### ProduÃ§Ã£o (Vercel)
```env
MONGODB_URI=mongodb+srv://username:password@cluster.mongodb.net/cineverse?retryWrites=true&w=majority
NEXT_PUBLIC_API_URL=https://your-app.vercel.app
NODE_ENV=production
```

### Teste
```env
MONGODB_URI=mongodb://localhost:27017/cineverse-test
NEXT_PUBLIC_API_URL=http://localhost:3001
NODE_ENV=test
PORT=3001
```

## ğŸ” SeguranÃ§a

### VariÃ¡veis SensÃ­veis
- **MONGODB_URI**: ContÃ©m credenciais de banco de dados
- **API Keys**: Se adicionar APIs externas no futuro

### Boas PrÃ¡ticas
- âœ… Use variÃ¡veis de ambiente para configuraÃ§Ãµes
- âœ… Nunca commite credenciais no cÃ³digo
- âœ… Use diferentes bancos para dev/prod/test
- âœ… Rotacione credenciais regularmente
- âŒ NÃ£o hardcode URLs ou credenciais
- âŒ NÃ£o compartilhe arquivos .env

## ğŸ“ Exemplo Completo

```env
# ============================================
# CINEVERSE - CONFIGURAÃ‡ÃƒO DE AMBIENTE
# ============================================

# MongoDB Configuration
MONGODB_URI=mongodb://localhost:27017/cineverse

# Next.js Configuration
NEXT_PUBLIC_API_URL=http://localhost:3000
NODE_ENV=development

# Server Configuration
PORT=3000

# Optional: Logging Level
LOG_LEVEL=info

# Optional: CORS Origins (comma separated)
CORS_ORIGINS=http://localhost:3000,http://localhost:3001

# Optional: Rate Limiting
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100
```

## ğŸš€ ConfiguraÃ§Ã£o RÃ¡pida

### Para comeÃ§ar rapidamente:

1. **Instale MongoDB localmente** ou use MongoDB Atlas
2. **Copie este arquivo**:
   ```bash
   cp env.example .env.local
   ```
3. **Configure a string de conexÃ£o**:
   ```env
   MONGODB_URI=mongodb://localhost:27017/cineverse
   ```
4. **Execute o projeto**:
   ```bash
   npm run dev
   ```

## ğŸ” Troubleshooting

### Problemas Comuns

**Erro de conexÃ£o com MongoDB:**
```
Error: connect ECONNREFUSED 127.0.0.1:27017
```
- Verifique se o MongoDB estÃ¡ rodando
- Confirme a string de conexÃ£o
- Teste a conexÃ£o: `mongosh mongodb://localhost:27017/cineverse`

**Erro de CORS:**
```
Access to fetch at 'http://localhost:3000/api/movies' from origin 'http://localhost:3001' has been blocked by CORS policy
```
- Verifique se NEXT_PUBLIC_API_URL estÃ¡ correto
- Confirme que o servidor estÃ¡ rodando na porta correta

**Erro de variÃ¡vel nÃ£o definida:**
```
ReferenceError: process is not defined
```
- Verifique se a variÃ¡vel tem prefixo `NEXT_PUBLIC_`
- Reinicie o servidor apÃ³s mudanÃ§as no .env

### ValidaÃ§Ã£o da ConfiguraÃ§Ã£o

Execute este script para validar sua configuraÃ§Ã£o:

```javascript
// validate-config.js
const requiredEnvVars = [
  'MONGODB_URI',
  'NEXT_PUBLIC_API_URL'
];

const missingVars = requiredEnvVars.filter(varName => !process.env[varName]);

if (missingVars.length > 0) {
  console.error('âŒ VariÃ¡veis de ambiente faltando:', missingVars);
  process.exit(1);
} else {
  console.log('âœ… ConfiguraÃ§Ã£o vÃ¡lida!');
}
```

## ğŸ“š Recursos Adicionais

- [MongoDB Connection String](https://docs.mongodb.com/manual/reference/connection-string/)
- [Next.js Environment Variables](https://nextjs.org/docs/basic-features/environment-variables)
- [Vercel Environment Variables](https://vercel.com/docs/concepts/projects/environment-variables)
- [MongoDB Atlas Setup](https://docs.atlas.mongodb.com/getting-started/)

---

**Lembre-se: Mantenha suas credenciais seguras e nunca as commite!**

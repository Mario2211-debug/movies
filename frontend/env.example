# Configuração de Ambiente - CineVerse

Este arquivo contém as variáveis de ambiente necessárias para executar o projeto CineVerse.

## 📋 Instruções

1. Copie este arquivo para `.env.local` na raiz do projeto
2. Preencha os valores apropriados para seu ambiente
3. Nunca commite o arquivo `.env.local` (já está no .gitignore)

## 🔧 Variáveis de Ambiente

### MongoDB
```env
# String de conexão com MongoDB
# Para MongoDB local:
MONGODB_URI=mongodb://localhost:27017/cineverse

# Para MongoDB Atlas (recomendado para produção):
# MONGODB_URI=mongodb+srv://username:password@cluster.mongodb.net/cineverse?retryWrites=true&w=majority
```

### Next.js
```env
# URL base da API (para desenvolvimento)
NEXT_PUBLIC_API_URL=http://localhost:3000

# Ambiente de execução
NODE_ENV=development
```

### Servidor
```env
# Porta do servidor (opcional, padrão: 3000)
PORT=3000
```

## 🌍 Configurações por Ambiente

### Desenvolvimento Local
```env
MONGODB_URI=mongodb://localhost:27017/cineverse
NEXT_PUBLIC_API_URL=http://localhost:3000
NODE_ENV=development
PORT=3000
```

### Produção (Vercel)
```env
MONGODB_URI=mongodb+srv://username:password@cluster.mongodb.net/cineverse?retryWrites=true&w=majority
NEXT_PUBLIC_API_URL=https://your-app.vercel.app
NODE_ENV=production
```

### Teste
```env
MONGODB_URI=mongodb://localhost:27017/cineverse-test
NEXT_PUBLIC_API_URL=http://localhost:3001
NODE_ENV=test
PORT=3001
```

## 🔐 Segurança

### Variáveis Sensíveis
- **MONGODB_URI**: Contém credenciais de banco de dados
- **API Keys**: Se adicionar APIs externas no futuro

### Boas Práticas
- ✅ Use variáveis de ambiente para configurações
- ✅ Nunca commite credenciais no código
- ✅ Use diferentes bancos para dev/prod/test
- ✅ Rotacione credenciais regularmente
- ❌ Não hardcode URLs ou credenciais
- ❌ Não compartilhe arquivos .env

## 📝 Exemplo Completo

```env
# ============================================
# CINEVERSE - CONFIGURAÇÃO DE AMBIENTE
# ============================================

# MongoDB Configuration
MONGODB_URI=mongodb://localhost:27017/cineverse

# Next.js Configuration
NEXT_PUBLIC_API_URL=http://localhost:3000
NODE_ENV=development

# Server Configuration
PORT=3000

# Optional: Logging Level
LOG_LEVEL=info

# Optional: CORS Origins (comma separated)
CORS_ORIGINS=http://localhost:3000,http://localhost:3001

# Optional: Rate Limiting
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100
```

## 🚀 Configuração Rápida

### Para começar rapidamente:

1. **Instale MongoDB localmente** ou use MongoDB Atlas
2. **Copie este arquivo**:
   ```bash
   cp env.example .env.local
   ```
3. **Configure a string de conexão**:
   ```env
   MONGODB_URI=mongodb://localhost:27017/cineverse
   ```
4. **Execute o projeto**:
   ```bash
   npm run dev
   ```

## 🔍 Troubleshooting

### Problemas Comuns

**Erro de conexão com MongoDB:**
```
Error: connect ECONNREFUSED 127.0.0.1:27017
```
- Verifique se o MongoDB está rodando
- Confirme a string de conexão
- Teste a conexão: `mongosh mongodb://localhost:27017/cineverse`

**Erro de CORS:**
```
Access to fetch at 'http://localhost:3000/api/movies' from origin 'http://localhost:3001' has been blocked by CORS policy
```
- Verifique se NEXT_PUBLIC_API_URL está correto
- Confirme que o servidor está rodando na porta correta

**Erro de variável não definida:**
```
ReferenceError: process is not defined
```
- Verifique se a variável tem prefixo `NEXT_PUBLIC_`
- Reinicie o servidor após mudanças no .env

### Validação da Configuração

Execute este script para validar sua configuração:

```javascript
// validate-config.js
const requiredEnvVars = [
  'MONGODB_URI',
  'NEXT_PUBLIC_API_URL'
];

const missingVars = requiredEnvVars.filter(varName => !process.env[varName]);

if (missingVars.length > 0) {
  console.error('❌ Variáveis de ambiente faltando:', missingVars);
  process.exit(1);
} else {
  console.log('✅ Configuração válida!');
}
```

## 📚 Recursos Adicionais

- [MongoDB Connection String](https://docs.mongodb.com/manual/reference/connection-string/)
- [Next.js Environment Variables](https://nextjs.org/docs/basic-features/environment-variables)
- [Vercel Environment Variables](https://vercel.com/docs/concepts/projects/environment-variables)
- [MongoDB Atlas Setup](https://docs.atlas.mongodb.com/getting-started/)

---

**Lembre-se: Mantenha suas credenciais seguras e nunca as commite!**
